@import models.forms.CreateNewDatabaseForm
@import views.html.helper
@import views.html.components.Block
@import helper._
@import uk.gov.hmrc.govukfrontend.views.Implicits.*
@import uk.gov.hmrc.govukfrontend.views.html.components.implicits.*
@import uk.gov.hmrc.hmrcfrontend.views.Implicits.*


@this(
        main: Main,
        block: Block,
        govukInput: GovukInput,
        govukButton: GovukButton,
        govukErrorSummary: GovukErrorSummary
)

@(databaseForm: Form[CreateNewDatabaseForm], onSubmit: Call)(implicit request: AuthenticatedRequest[?], messages: Messages)

@main(1, title = messages("addDatabase.title")) {


  @block("Add a new database") {

    @if(databaseForm.hasGlobalErrors) {
        @for(error <- databaseForm.globalErrors) {
            <span class="error-message">@error.format(messages)</span>
        }
    }

    @if(databaseForm.errors.nonEmpty) {
        @govukErrorSummary(ErrorSummary().withFormErrorsAsHtml(databaseForm))
    }
    
    @helper.form(action = onSubmit ) {
        @helper.CSRF.formField
        @govukInput(
            Input(
                label = Label(content = Text(messages("Name"))),
                hint = Some(Hint(
                    content = HtmlContent(messages("database.shortName"))
                )),
                classes = "govuk-!-width-one-half"
            ).withFormField(databaseForm("name"))
        )
        @govukInput(
            Input(
                label = Label(content = Text(messages("Description"))),
                classes = "govuk-!-width-one-half"
            ).withFormField(databaseForm("description"))
        )
        @govukButton(
            Button(
                element = Some("button"),
                content = Text(messages("Continue"))
            )
        )
    }

  }

}